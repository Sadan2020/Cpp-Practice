# BUG 描述

在写一个 C++ 项目的时候出现了以下问题，在调试模式下运行的时候程序能够正常运行，但直接运行可执行文件时抛出 "std::__ios_faliure" 异常。

```

terminate called after throwing an instance of 'std::__ios_failure'
  what():  basic_ios::clear: iostream error

```

# BUG 修复

由于在调试模式下不会报错，无法采用常规的方法进行处理，故而我使用了 try catch 的土方法一个一个试探，最终将 BUG 锁定在了一个 read_file 函数上，该函数读取所给路径的文件，并返回一个存储文件内容的 std::string。

经过最终的研究，发现问题出在相对路径上。我读取文件采用的是相对路径，以为是相对于可执行文件，没想到是相对于终端路径。这也是调试模式下没有报错的原因。

# 反思

read_file 函数在设计的时候没有处理好文件问题，在路径错误时不能给出有效的错误信息，这也是这次 BUG 修复困难的原因之一。

对相对路径的认识不清晰，这是由于缺少编程经验，需要积累。